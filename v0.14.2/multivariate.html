<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Multivariate Distributions · Distributions.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/highlightjs/default.css" rel="stylesheet" type="text/css"/><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="index.html"><img class="logo" src="assets/logo.png" alt="Distributions.jl logo"/></a><h1>Distributions.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Distributions Package</a></li><li><a class="toctext" href="starting.html">Getting Started</a></li><li><a class="toctext" href="types.html">Type Hierarchy</a></li><li><a class="toctext" href="univariate.html">Univariate Distributions</a></li><li><a class="toctext" href="truncate.html">Truncated Distributions</a></li><li class="current"><a class="toctext" href="multivariate.html">Multivariate Distributions</a><ul class="internal"><li><a class="toctext" href="#Common-Interface-1">Common Interface</a></li><li><a class="toctext" href="#Distributions-1">Distributions</a></li><li><a class="toctext" href="#Addition-Methods-1">Addition Methods</a></li><li><a class="toctext" href="#Internal-Methods-(for-creating-you-own-multivariate-distribution)-1">Internal Methods (for creating you own multivariate distribution)</a></li></ul></li><li><a class="toctext" href="matrix.html">Matrix-variate Distributions</a></li><li><a class="toctext" href="mixture.html">Mixture Models</a></li><li><a class="toctext" href="fit.html">Distribution Fitting</a></li><li><a class="toctext" href="extends.html">Create New Samplers and Distributions</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="multivariate.html">Multivariate Distributions</a></li></ul><a class="edit-page" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/docs/src/multivariate.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Multivariate Distributions</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="multivariates-1" href="#multivariates-1">Multivariate Distributions</a></h1><p><em>Multivariate distributions</em> are the distributions whose variate forms are <code>Multivariate</code> (<em>i.e</em> each sample is a vector). Abstract types for multivariate distributions:</p><pre><code class="language-julia">const MultivariateDistribution{S&lt;:ValueSupport} = Distribution{Multivariate,S}

const DiscreteMultivariateDistribution   = Distribution{Multivariate, Discrete}
const ContinuousMultivariateDistribution = Distribution{Multivariate, Continuous}</code></pre><h2><a class="nav-anchor" id="Common-Interface-1" href="#Common-Interface-1">Common Interface</a></h2><p>The methods listed as below are implemented for each multivariate distribution, which provides a consistent interface to work with multivariate distributions.</p><h3><a class="nav-anchor" id="Computation-of-statistics-1" href="#Computation-of-statistics-1">Computation of statistics</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.length-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport}" href="#Base.length-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport}"><code>Base.length</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">length(d::MultivariateDistribution) -&gt; Int</code></pre><p>Return the sample dimension of distribution <code>d</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariates.jl#L3-L7">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.size-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport}" href="#Base.size-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport}"><code>Base.size</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">size(d::MultivariateDistribution)</code></pre><p>Return the sample size of distribution <code>d</code>, <em>i.e</em> <code>(length(d),)</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariates.jl#L10-L14">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.mean-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport}" href="#Base.mean-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport}"><code>Base.mean</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">mean(d::MultivariateDistribution)</code></pre><p>Compute the mean vector of distribution <code>d</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariates.jl#L84-L88">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.var-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport}" href="#Base.var-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport}"><code>Base.var</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">var(d::MultivariateDistribution)</code></pre><p>Compute the vector of element-wise variances for distribution <code>d</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariates.jl#L91-L95">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.cov-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport}" href="#Base.cov-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport}"><code>Base.cov</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">cov(d::MultivariateDistribution)</code></pre><p>Compute the covariance matrix for distribution <code>d</code>. (<code>cor</code> is provided based on <code>cov</code>).</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariates.jl#L112-L116">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.cor-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport}" href="#Base.cor-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport}"><code>Base.cor</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">cor(d::MultivariateDistribution)</code></pre><p>Computes the correlation matrix for distribution <code>d</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariates.jl#L119-L123">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="StatsBase.entropy-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport}" href="#StatsBase.entropy-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport}"><code>StatsBase.entropy</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">entropy(d::MultivariateDistribution)</code></pre><p>Compute the entropy value of distribution <code>d</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariates.jl#L98-L102">source</a><br/></section><h3><a class="nav-anchor" id="Probability-evaluation-1" href="#Probability-evaluation-1">Probability evaluation</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Distributions.insupport-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport,AbstractArray}" href="#Distributions.insupport-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport,AbstractArray}"><code>Distributions.insupport</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">insupport(d::MultivariateDistribution, x::AbstractArray)</code></pre><p>If <span>$x$</span> is a vector, it returns whether x is within the support of <span>$d$</span>. If <span>$x$</span> is a matrix, it returns whether every column in <span>$x$</span> is within the support of <span>$d$</span>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariates.jl#L61-L66">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Distributions.pdf-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport,AbstractArray}" href="#Distributions.pdf-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport,AbstractArray}"><code>Distributions.pdf</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">pdf(d::MultivariateDistribution, x::AbstractArray)</code></pre><p>Return the probability density of distribution <code>d</code> evaluated at <code>x</code>.</p><ul><li><p>If <code>x</code> is a vector, it returns the result as a scalar.</p></li><li><p>If <code>x</code> is a matrix with n columns, it returns a vector <code>r</code> of length n, where <code>r[i]</code> corresponds</p></li></ul><p>to <code>x[:,i]</code> (i.e. treating each column as a sample).</p><p><code>pdf!(r, d, x)</code> will write the results to a pre-allocated array <code>r</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariates.jl#L145-L155">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Distributions.logpdf-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport,AbstractArray}" href="#Distributions.logpdf-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport,AbstractArray}"><code>Distributions.logpdf</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">logpdf(d::MultivariateDistribution, x::AbstractArray)</code></pre><p>Return the logarithm of probability density evaluated at <code>x</code>.</p><ul><li><p>If <code>x</code> is a vector, it returns the result as a scalar.</p></li><li><p>If <code>x</code> is a matrix with n columns, it returns a vector <code>r</code> of length n, where <code>r[i]</code> corresponds to <code>x[:,i]</code>.</p></li></ul><p><code>logpdf!(r, d, x)</code> will write the results to a pre-allocated array <code>r</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariates.jl#L158-L167">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="StatsBase.loglikelihood-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport,AbstractArray{T,2} where T}" href="#StatsBase.loglikelihood-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport,AbstractArray{T,2} where T}"><code>StatsBase.loglikelihood</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">loglikelihood(d::MultivariateDistribution, x::AbstractMatrix)</code></pre><p>The log-likelihood of distribution <code>d</code> w.r.t. all columns contained in matrix <code>x</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariates.jl#L232-L236">source</a><br/></section><p><strong>Note:</strong> For multivariate distributions, the pdf value is usually very small or large, and therefore direct evaluating the pdf may cause numerical problems. It is generally advisable to perform probability computation in log-scale.</p><h3><a class="nav-anchor" id="Sampling-1" href="#Sampling-1">Sampling</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.Random.rand-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport}" href="#Base.Random.rand-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport}"><code>Base.Random.rand</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">rand(d::MultivariateDistribution)</code></pre><p>Sample a vector from the distribution <code>d</code>.</p><pre><code class="language-none">rand(d::MultivariateDistribution, n::Int) -&gt; Vector</code></pre><p>Sample n vectors from the distribution <code>d</code>. This returns a matrix of size <code>(dim(d), n)</code>, where each column is a sample.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariates.jl#L39-L48">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.Random.rand!-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport,AbstractArray}" href="#Base.Random.rand!-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport,AbstractArray}"><code>Base.Random.rand!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">rand!(d::MultivariateDistribution, x::AbstractArray)</code></pre><p>Draw samples and output them to a pre-allocated array x. Here, x can be either a vector of length <code>dim(d)</code> or a matrix with <code>dim(d)</code> rows.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariates.jl#L19-L24">source</a><br/></section><p><strong>Note:</strong> In addition to these common methods, each multivariate distribution has its own special methods, as introduced below.</p><h2><a class="nav-anchor" id="Distributions-1" href="#Distributions-1">Distributions</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Distributions.Multinomial" href="#Distributions.Multinomial"><code>Distributions.Multinomial</code></a> — <span class="docstring-category">Type</span>.</div><div><p>The <a href="http://en.wikipedia.org/wiki/Multinomial_distribution">Multinomial distribution</a> generalizes the <em>binomial distribution</em>. Consider n independent draws from a Categorical distribution over a finite set of size k, and let <span>$X = (X_1, ..., X_k)$</span> where <span>$X_i$</span> represents the number of times the element <span>$i$</span> occurs, then the distribution of <span>$X$</span> is a multinomial distribution. Each sample of a multinomial distribution is a k-dimensional integer vector that sums to n.</p><p>The probability mass function is given by</p><div>\[f(x; n, p) = \frac{n!}{x_1! \cdots x_k!} \prod_{i=1}^k p_i^{x_i},
\quad x_1 + \cdots + x_k = n\]</div><pre><code class="language-julia">Multinomial(n, p)   # Multinomial distribution for n trials with probability vector p
Multinomial(n, k)   # Multinomial distribution for n trials with equal probabilities
                    # over 1:k</code></pre></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/multinomial.jl#L1-L21">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Distributions.AbstractMvNormal" href="#Distributions.AbstractMvNormal"><code>Distributions.AbstractMvNormal</code></a> — <span class="docstring-category">Type</span>.</div><div><p>The <a href="http://en.wikipedia.org/wiki/Multivariate_normal_distribution">Multivariate normal distribution</a> is a multidimensional generalization of the <em>normal distribution</em>. The probability density function of a d-dimensional multivariate normal distribution with mean vector <span>$\boldsymbol{\mu}$</span> and covariance matrix <span>$\boldsymbol{\Sigma}$</span> is:</p><div>\[f(\mathbf{x}; \boldsymbol{\mu}, \boldsymbol{\Sigma}) = \frac{1}{(2 \pi)^{d/2} |\boldsymbol{\Sigma}|^{1/2}}
\exp \left( - \frac{1}{2} (\mathbf{x} - \boldsymbol{\mu})^T \Sigma^{-1} (\mathbf{x} - \boldsymbol{\mu}) \right)\]</div><p>We realize that the mean vector and the covariance often have special forms in practice, which can be exploited to simplify the computation. For example, the mean vector is sometimes just a zero vector, while the covariance matrix can be a diagonal matrix or even in the form of <span>$\sigma \mathbf{I}$</span>. To take advantage of such special cases, we introduce a parametric type <code>MvNormal</code>, defined as below, which allows users to specify the special structure of the mean and covariance.</p><pre><code class="language-julia">immutable MvNormal{Cov&lt;:AbstractPDMat,Mean&lt;:Union{Vector,ZeroVector}} &lt;: AbstractMvNormal
    μ::Mean
    Σ::Cov
end</code></pre><p>Here, the mean vector can be an instance of either <code>Vector</code> or <code>ZeroVector</code>, where the latter is simply an empty type indicating a vector filled with zeros. The covariance can be of any subtype of <code>AbstractPDMat</code>. Particularly, one can use <code>PDMat</code> for full covariance, <code>PDiagMat</code> for diagonal covariance, and <code>ScalMat</code> for the isotropic covariance – those in the form of <span>$\sigma \mathbf{I}$</span>. (See the Julia package <a href="https://github.com/lindahua/PDMats.jl">PDMats</a> for details).</p><p>We also define a set of alias for the types using different combinations of mean vectors and covariance:</p><pre><code class="language-julia">const IsoNormal  = MvNormal{ScalMat,  Vector{Float64}}
const DiagNormal = MvNormal{PDiagMat, Vector{Float64}}
const FullNormal = MvNormal{PDMat,    Vector{Float64}}

const ZeroMeanIsoNormal  = MvNormal{ScalMat,  ZeroVector{Float64}}
const ZeroMeanDiagNormal = MvNormal{PDiagMat, ZeroVector{Float64}}
const ZeroMeanFullNormal = MvNormal{PDMat,    ZeroVector{Float64}}</code></pre></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/mvnormal.jl#L25-L69">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Distributions.MvNormal" href="#Distributions.MvNormal"><code>Distributions.MvNormal</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">MvNormal</code></pre><p>Generally, users don&#39;t have to worry about these internal details. We provide a common constructor <code>MvNormal</code>, which will construct a distribution of appropriate type depending on the input arguments.</p><pre><code class="language-none">MvNormal(sig)</code></pre><p>Construct a multivariate normal distribution with zero mean and covariance represented by <code>sig</code>.</p><pre><code class="language-none">MvNormal(mu, sig)</code></pre><p>Construct a multivariate normal distribution with mean <code>mu</code> and covariance represented by <code>sig</code>.</p><pre><code class="language-none">MvNormal(d, sig)</code></pre><p>Construct a multivariate normal distribution of dimension <code>d</code>, with zero mean, and an isotropic covariance as <code>abs2(sig) * eye(d)</code>.</p><p><strong>Arguments</strong></p><ul><li><p><code>mu::Vector{T&lt;:Real}</code>: The mean vector.</p></li><li><p><code>d::Real</code>: dimension of distribution.</p></li><li><p><code>sig</code>: The covariance, which can in of either of the following forms (with <code>T&lt;:Real</code>):</p><ol><li><p>subtype of <code>AbstractPDMat</code></p></li><li><p>symmetric matrix of type <code>Matrix{T}</code></p></li><li><p>vector of type <code>Vector{T}</code>: indicating a diagonal covariance as <code>diagm(abs2(sig))</code>.</p></li><li><p>real-valued number: indicating an isotropic covariance as <code>abs2(sig) * eye(d)</code>.</p></li></ol></li></ul><p><strong>Note:</strong> The constructor will choose an appropriate covariance form internally, so that special structure of the covariance can be exploited.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/mvnormal.jl#L146-L177">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Distributions.MvNormalCanon" href="#Distributions.MvNormalCanon"><code>Distributions.MvNormalCanon</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">MvNormalCanon</code></pre><p>Multivariate normal distribution is an <a href="http://en.wikipedia.org/wiki/Exponential_family">exponential family distribution</a>, with two <em>canonical parameters</em>: the <em>potential vector</em> <span>$\mathbf{h}$</span> and the <em>precision matrix</em> <span>$\mathbf{J}$</span>. The relation between these parameters and the conventional representation (<em>i.e.</em> the one using mean <span>$\boldsymbol{\mu}$</span> and covariance <span>$\boldsymbol{\Sigma}$</span>) is:</p><div>\[\mathbf{h} = \boldsymbol{\Sigma}^{-1} \boldsymbol{\mu}, \quad \text{ and } \quad \mathbf{J} = \boldsymbol{\Sigma}^{-1}\]</div><p>The canonical parameterization is widely used in Bayesian analysis. We provide a type <code>MvNormalCanon</code>, which is also a subtype of <code>AbstractMvNormal</code> to represent a multivariate normal distribution using canonical parameters. Particularly, <code>MvNormalCanon</code> is defined as:</p><pre><code class="language-julia">immutable MvNormalCanon{P&lt;:AbstractPDMat,V&lt;:Union{Vector,ZeroVector}} &lt;: AbstractMvNormal
    μ::V    # the mean vector
    h::V    # potential vector, i.e. inv(Σ) * μ
    J::P    # precision matrix, i.e. inv(Σ)
end</code></pre><p>We also define aliases for common specializations of this parametric type:</p><pre><code class="language-julia">const FullNormalCanon = MvNormalCanon{PDMat,    Vector{Float64}}
const DiagNormalCanon = MvNormalCanon{PDiagMat, Vector{Float64}}
const IsoNormalCanon  = MvNormalCanon{ScalMat,  Vector{Float64}}

const ZeroMeanFullNormalCanon = MvNormalCanon{PDMat,    ZeroVector{Float64}}
const ZeroMeanDiagNormalCanon = MvNormalCanon{PDiagMat, ZeroVector{Float64}}
const ZeroMeanIsoNormalCanon  = MvNormalCanon{ScalMat,  ZeroVector{Float64}}</code></pre><p>A multivariate distribution with canonical parameterization can be constructed using a common constructor <code>MvNormalCanon</code> as:</p><pre><code class="language-none">MvNormalCanon(h, J)</code></pre><p>Construct a multivariate normal distribution with potential vector <code>h</code> and precision matrix represented by <code>J</code>.</p><pre><code class="language-none">MvNormalCanon(J)</code></pre><p>Construct a multivariate normal distribution with zero mean (thus zero potential vector) and precision matrix represented by <code>J</code>.</p><pre><code class="language-none">MvNormalCanon(d, J)</code></pre><p>Construct a multivariate normal distribution of dimension <code>d</code>, with zero mean and a precision matrix as <code>J * eye(d)</code>.</p><p><strong>Arguments</strong></p><ul><li><p><code>d::Int</code>: dimension of distribution</p></li><li><p><code>h::Vector{T&lt;:Real}</code>: the potential vector, of type <code>Vector{T}</code> with <code>T&lt;:Real</code>.</p></li><li><p><code>J</code>: the representation of the precision matrix, which can be in either of the following forms (<code>T&lt;:Real</code>):</p><ol><li><p>an instance of a subtype of <code>AbstractPDMat</code></p></li><li><p>a square matrix of type <code>Matrix{T}</code></p></li><li><p>a vector of type <code>Vector{T}</code>: indicating a diagonal precision matrix as <code>diagm(J)</code>.</p></li><li><p>a real number: indicating an isotropic precision matrix as <code>J * eye(d)</code>.</p></li></ol></li></ul><p><strong>Note:</strong> <code>MvNormalCanon</code> share the same set of methods as <code>MvNormal</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/mvnormalcanon.jl#L5-L65">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Distributions.MvLogNormal" href="#Distributions.MvLogNormal"><code>Distributions.MvLogNormal</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">MvLogNormal(d::MvNormal)</code></pre><p>The <a href="http://en.wikipedia.org/wiki/Log-normal_distribution">Multivariate lognormal distribution</a> is a multidimensional generalization of the <em>lognormal distribution</em>.</p><p>If <span>$\boldsymbol X \sim \mathcal{N}(\boldsymbol\mu,\,\boldsymbol\Sigma)$</span> has a multivariate normal distribution then <span>$\boldsymbol Y=\exp(\boldsymbol X)$</span> has a multivariate lognormal distribution.</p><p>Mean vector <span>$\boldsymbol{\mu}$</span> and covariance matrix <span>$\boldsymbol{\Sigma}$</span> of the underlying normal distribution are known as the <em>location</em> and <em>scale</em> parameters of the corresponding lognormal distribution.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/mvlognormal.jl#L150-L163">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Distributions.Dirichlet" href="#Distributions.Dirichlet"><code>Distributions.Dirichlet</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">Dirichlet</code></pre><p>The <a href="http://en.wikipedia.org/wiki/Dirichlet_distribution&gt;">Dirichlet distribution</a> is often used the conjugate prior for Categorical or Multinomial distributions. The probability density function of a Dirichlet distribution with parameter <span>$\alpha = (\alpha_1, \ldots, \alpha_k)$</span> is:</p><div>\[f(x; \alpha) = \frac{1}{B(\alpha)} \prod_{i=1}^k x_i^{\alpha_i - 1}, \quad \text{ with }
B(\alpha) = \frac{\prod_{i=1}^k \Gamma(\alpha_i)}{\Gamma \left( \sum_{i=1}^k \alpha_i \right)},
\quad x_1 + \cdots + x_k = 1\]</div><pre><code class="language-julia"># Let alpha be a vector
Dirichlet(alpha)         # Dirichlet distribution with parameter vector alpha

# Let a be a positive scalar
Dirichlet(k, a)          # Dirichlet distribution with parameter a * ones(k)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/dirichlet.jl#L1-L22">source</a><br/></section><h2><a class="nav-anchor" id="Addition-Methods-1" href="#Addition-Methods-1">Addition Methods</a></h2><h3><a class="nav-anchor" id="AbstractMvNormal-1" href="#AbstractMvNormal-1">AbstractMvNormal</a></h3><p>In addition to the methods listed in the common interface above, we also provide the following methods for all multivariate distributions under the base type <code>AbstractMvNormal</code>:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Distributions.invcov-Tuple{Distributions.AbstractMvNormal}" href="#Distributions.invcov-Tuple{Distributions.AbstractMvNormal}"><code>Distributions.invcov</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">invcov(d::AbstractMvNormal)</code></pre><p>Return the inversed covariance matrix of d.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/mvnormal.jl#L87-L91">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Distributions.logdetcov-Tuple{Distributions.AbstractMvNormal}" href="#Distributions.logdetcov-Tuple{Distributions.AbstractMvNormal}"><code>Distributions.logdetcov</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">logdetcov(d::AbstractMvNormal)</code></pre><p>Return the log-determinant value of the covariance matrix.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/mvnormal.jl#L94-L98">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Distributions.sqmahal-Tuple{Distributions.AbstractMvNormal,AbstractArray}" href="#Distributions.sqmahal-Tuple{Distributions.AbstractMvNormal,AbstractArray}"><code>Distributions.sqmahal</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">sqmahal(d, x)</code></pre><p>Return the squared Mahalanobis distance from x to the center of d, w.r.t. the covariance. When x is a vector, it returns a scalar value. When x is a matrix, it returns a vector of length size(x,2).</p><p><code>sqmahal!(r, d, x)</code> with write the results to a pre-allocated array <code>r</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/mvnormal.jl#L101-L108">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.Random.rand-Tuple{AbstractRNG,Distributions.AbstractMvNormal}" href="#Base.Random.rand-Tuple{AbstractRNG,Distributions.AbstractMvNormal}"><code>Base.Random.rand</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">rand(rng::AbstractRNG, d::AbstractMvNormal)
rand(rng::AbstractRNG, d::AbstractMvNormal, n::Int)
rand!(rng::AbstractRNG, d::AbstractMvNormal, x::AbstractArray)</code></pre><p>Sample from distribution <code>d</code> using the random number generator <code>rng</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/mvnormal.jl#L127-L133">source</a><br/></section><h3><a class="nav-anchor" id="MvLogNormal-1" href="#MvLogNormal-1">MvLogNormal</a></h3><p>In addition to the methods listed in the common interface above, we also provide the following methods:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Distributions.location-Tuple{Distributions.MvLogNormal}" href="#Distributions.location-Tuple{Distributions.MvLogNormal}"><code>Distributions.location</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">location(d::MvLogNormal)</code></pre><p>Return the location vector of the distribution (the mean of the underlying normal distribution).</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/mvlognormal.jl#L190-L194">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Distributions.scale-Tuple{Distributions.MvLogNormal}" href="#Distributions.scale-Tuple{Distributions.MvLogNormal}"><code>Distributions.scale</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">scale(d::MvLogNormal)</code></pre><p>Return the scale matrix of the distribution (the covariance matrix of the underlying normal distribution).</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/mvlognormal.jl#L197-L201">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.median-Tuple{Distributions.MvLogNormal}" href="#Base.median-Tuple{Distributions.MvLogNormal}"><code>Base.median</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">median(d::MvLogNormal)</code></pre><p>Return the median vector of the lognormal distribution. which is strictly smaller than the mean.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/mvlognormal.jl#L207-L211">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="StatsBase.mode-Tuple{Distributions.MvLogNormal}" href="#StatsBase.mode-Tuple{Distributions.MvLogNormal}"><code>StatsBase.mode</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">mode(d::MvLogNormal)</code></pre><p>Return the mode vector of the lognormal distribution, which is strictly smaller than the mean and median.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/mvlognormal.jl#L214-L218">source</a><br/></section><p>It can be necessary to calculate the parameters of the lognormal (location vector and scale matrix) from a given covariance and mean, median or mode. To that end, the following functions are provided.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Distributions.location-Union{Tuple{D}, Tuple{Type{D},Symbol,AbstractArray{T,1} where T,AbstractArray{T,2} where T}} where D&lt;:Distributions.AbstractMvLogNormal" href="#Distributions.location-Union{Tuple{D}, Tuple{Type{D},Symbol,AbstractArray{T,1} where T,AbstractArray{T,2} where T}} where D&lt;:Distributions.AbstractMvLogNormal"><code>Distributions.location</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">location{D&lt;:AbstractMvLogNormal}(::Type{D},s::Symbol,m::AbstractVector,S::AbstractMatrix)</code></pre><p>Calculate the location vector (the mean of the underlying normal distribution).</p><ul><li><p>If <code>s == :meancov</code>, then m is taken as the mean, and S the covariance matrix of a lognormal distribution.</p></li><li><p>If <code>s == :mean | :median | :mode</code>, then m is taken as the mean, median or mode of the lognormal respectively, and S is interpreted as the scale matrix (the covariance of the underlying normal distribution).</p></li></ul><p>It is not possible to analytically calculate the location vector from e.g., median + covariance, or from mode + covariance.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/mvlognormal.jl#L87-L100">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Distributions.location!-Union{Tuple{D}, Tuple{Type{D},Symbol,AbstractArray{T,1} where T,AbstractArray{T,2} where T,AbstractArray{T,1} where T}} where D&lt;:Distributions.AbstractMvLogNormal" href="#Distributions.location!-Union{Tuple{D}, Tuple{Type{D},Symbol,AbstractArray{T,1} where T,AbstractArray{T,2} where T,AbstractArray{T,1} where T}} where D&lt;:Distributions.AbstractMvLogNormal"><code>Distributions.location!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">location!{D&lt;:AbstractMvLogNormal}(::Type{D},s::Symbol,m::AbstractVector,S::AbstractMatrix,μ::AbstractVector)</code></pre><p>Calculate the location vector (as above) and store the result in <span>$μ$</span></p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/mvlognormal.jl#L76-L80">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Distributions.scale-Union{Tuple{D}, Tuple{Type{D},Symbol,AbstractArray{T,1} where T,AbstractArray{T,2} where T}} where D&lt;:Distributions.AbstractMvLogNormal" href="#Distributions.scale-Union{Tuple{D}, Tuple{Type{D},Symbol,AbstractArray{T,1} where T,AbstractArray{T,2} where T}} where D&lt;:Distributions.AbstractMvLogNormal"><code>Distributions.scale</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">scale{D&lt;:AbstractMvLogNormal}(::Type{D},s::Symbol,m::AbstractVector,S::AbstractMatrix)</code></pre><p>Calculate the scale parameter, as defined for the location parameter above.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/mvlognormal.jl#L118-L122">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.LinAlg.scale!-Union{Tuple{D}, Tuple{Type{D},Symbol,AbstractArray{T,1} where T,AbstractArray{T,2} where T,AbstractArray{T,2} where T}} where D&lt;:Distributions.AbstractMvLogNormal" href="#Base.LinAlg.scale!-Union{Tuple{D}, Tuple{Type{D},Symbol,AbstractArray{T,1} where T,AbstractArray{T,2} where T,AbstractArray{T,2} where T}} where D&lt;:Distributions.AbstractMvLogNormal"><code>Base.LinAlg.scale!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">scale!{D&lt;:AbstractMvLogNormal}(::Type{D},s::Symbol,m::AbstractVector,S::AbstractMatrix,Σ::AbstractMatrix)</code></pre><p>Calculate the scale parameter, as defined for the location parameter above and store the result in <code>Σ</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/mvlognormal.jl#L107-L111">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="StatsBase.params-Union{Tuple{D}, Tuple{Type{D},AbstractArray{T,1} where T,AbstractArray{T,2} where T}} where D&lt;:Distributions.AbstractMvLogNormal" href="#StatsBase.params-Union{Tuple{D}, Tuple{Type{D},AbstractArray{T,1} where T,AbstractArray{T,2} where T}} where D&lt;:Distributions.AbstractMvLogNormal"><code>StatsBase.params</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">params{D&lt;:AbstractMvLogNormal}(::Type{D},m::AbstractVector,S::AbstractMatrix)</code></pre><p>Return (scale,location) for a given mean and covariance</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/mvlognormal.jl#L136-L140">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="StatsBase.params-Union{Tuple{D}, Tuple{Type{D},AbstractArray{T,1} where T,AbstractArray{T,2} where T}} where D&lt;:Distributions.AbstractMvLogNormal" href="#StatsBase.params-Union{Tuple{D}, Tuple{Type{D},AbstractArray{T,1} where T,AbstractArray{T,2} where T}} where D&lt;:Distributions.AbstractMvLogNormal"><code>StatsBase.params</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">params{D&lt;:AbstractMvLogNormal}(::Type{D},m::AbstractVector,S::AbstractMatrix)</code></pre><p>Return (scale,location) for a given mean and covariance</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariate/mvlognormal.jl#L136-L140">source</a><br/></section><h2><a class="nav-anchor" id="Internal-Methods-(for-creating-you-own-multivariate-distribution)-1" href="#Internal-Methods-(for-creating-you-own-multivariate-distribution)-1">Internal Methods (for creating you own multivariate distribution)</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Distributions._rand!-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport,AbstractArray}" href="#Distributions._rand!-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport,AbstractArray}"><code>Distributions._rand!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">_rand!(d::MultivariateDistribution, x::AbstractArray)</code></pre><p>Generate a vector sample to <code>x</code>. This function does not need to perform dimension checking.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariates.jl#L52-L56">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Distributions._logpdf-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport,AbstractArray}" href="#Distributions._logpdf-Tuple{Distributions.Distribution{Distributions.Multivariate,S} where S&lt;:Distributions.ValueSupport,AbstractArray}"><code>Distributions._logpdf</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">_logpdf{T&lt;:Real}(d::MultivariateDistribution, x::AbstractArray)</code></pre><p>Evaluate logarithm of pdf value for a given vector <code>x</code>. This function need not perform dimension checking. Generally, one does not need to implement <code>pdf</code> (or <code>_pdf</code>) as fallback methods are provided in <code>src/multivariates.jl</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/Distributions.jl/tree/ebeab79ff28f144506f6aa51b284b67486283ba0/src/multivariates.jl#L224-L229">source</a><br/></section><footer><hr/><a class="previous" href="truncate.html"><span class="direction">Previous</span><span class="title">Truncated Distributions</span></a><a class="next" href="matrix.html"><span class="direction">Next</span><span class="title">Matrix-variate Distributions</span></a></footer></article></body></html>
